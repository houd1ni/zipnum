const t=Symbol("Placeholder"),n=n=>{let r=0;for(const e of n)e!==t&&r++;return r},r=(n,r)=>{const e=n.length,o=n.slice(),s=r.length;let c=s,l=0;for(;c&&l<e;l++)o[l]===t&&(o[l]=r[s-c],c--);for(l=e;c;l++,c--)o[l]=r[s-c];return o},e=(t,o,s)=>{const c=t.length-o.length-n(s);if(c<1)return t(...r(o,s));{const n=(...n)=>e(t,r(o,s),n);return n.$args_left=c,n}},o=t=>(...r)=>t.length>n(r)?e(t,[],r):t(...r);function s(n){return function(r,e){const o=r===t,s=arguments.length;if(1===s&&o)throw new Error("Senseless placeholder usage.");return s>1?o?(n=>function(r){return r===t?n:n(r)})((t=>n(t,e))):n(r,e):t=>n(r,t)}}function c(t){return o(t)}const l=void 0,i=1/0,u=t=>typeof t,a=t=>null===t,f=t=>"number"==u(t),h={u:"U",b:"B",n:"N",s:"S",f:"F"},b=Symbol(),d=t=>{const n=u(t);return"object"===n?a(t)?"Null":t.constructor.name:h[n[0]]+n.slice(1)},p=t=>t.length,g=t=>a(t)||(t=>t===l)(t),m=s(((t,n)=>t===n)),w=s(((t,n)=>{const r=d(t);if(m(r,d(n))&&(m(r,"Object")||m(r,"Array"))){if(a(t)||a(n))return m(t,n);if(m(t,n))return!0;for(const r of[t,n])for(const e in r)if(!(m(r,n)&&e in t||m(r,t)&&e in n&&w(t[e],n[e])))return!1;return!0}return m(t,n)})),y=s(((t,n)=>(n.push(t),n))),z=c(((t,n,r)=>r.reduce(t,n))),A=o(((t,n,r,e)=>t(e)?n(e):r(e))),B=(...n)=>(...r)=>{let e,o=!0;for(let s=p(n)-1;s>-1;s--)o?(o=!1,e=n[s](...r)):e=e===t?n[s]():n[s](e);return e},S=s(((t,n)=>n[t])),j=c(((t,n,r)=>r.slice(t,f(n)?n:i))),C=S(0);j(1,i);const E=s(((t,n)=>n.find(t))),N=t=>()=>t,v=s(((t,n)=>n.split(t))),O=N(!0),q=N(!1),x=s(((t,n)=>z(((n,r)=>E((n=>t(r,n)),n)?n:y(r,n)),[],n)))(w),F=c(((t,n,r)=>p(n)?g(r)?t:B((e=>e in r?F(t,j(1,i,n),r[e]):t),C)(n):r));F(l),B(A(w(b),q,O),F(b));const I=s(((t,n)=>n.map(t))),{floor:M}=Math,P="0123456789abcdefghijklmnopqrstuvwxyz",U=B((t=>Object.fromEntries(t)),I(((t,n)=>[t,n])),v(""));class W{abc;abclen;c2pos;standard;setABC(t){if(!B(w(p(n=t)),p,x,v(""))(n))throw new Error("Not all chars are unique!");var n;this.abc=t,this.abclen=t.length,this.standard=P.startsWith(t),this.c2pos=U(t)}zip(t){const{abc:n,abclen:r}=this;let e="";for(;t>0;)e=n[t%r]+e,t=M(t/r);return e||"0"}unzip(t){const{standard:n,abclen:r,c2pos:e}=this;if(n)return parseInt(t,r);const o=t.length;let s=0;for(let n=0;n<o;n++)s+=e[t[n]]*r**(o-n-1);return s}constructor(t){this.setABC(t||P+"ABCDEFGHIJKLMNOPQRSTUVWXYZ")}}const k=new W,D=k.setABC.bind(k),G=k.zip.bind(k),H=k.unzip.bind(k);export{W as Zipnum,D as setABC,H as unzipnum,G as zipnum};
